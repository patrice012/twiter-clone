{% extends 'base.html' %}
{% load static %}
{% load thumbnail %}

{% block content %}
    <form   hx-target="#tweets_container"
            hx-swap="afterbegin"
            hx-post="{% url 'save_tweet_hxpost' %}"
            hx-encoding="multipart/form-data"
            id="tweet-form"
            method="POST" 
            class='form create-tweet' 
            enctype="multipart/form-data">
        {% csrf_token %}

        <div class="" style="width: 100%;">
            <div class="field--container">

                <div class='form__field'>
                    {{form.content.label_tag}}
                    {{form.content}}
                    
                    <div
                        class=" contenteditable"
                        name="create_tweet"
                        id="tweet_content"
                        aria-placeholder="tweet content"
                        contenteditable="true"
                        ></div>

                    </div>
                    <span class='form--error'>{{form.content.errors}}</span>
                </div>
            </div>

            <div class="field--container">
                <div class='form__field'>
                    <label class="tweet-field" for="id_tweet_picture">
                        <i class="fa fa-image"></i>
                    </label>
                    {{form.tweet_picture.label_tag}}
                    {{form.tweet_picture}}
                    <span class='form--error'>{{form.tweet_picture.errors}}</span>
                </div>

            </div>
        </div>


        <input class='btn submit' type="submit" value="tweet" >
        <input type="hidden" name="next" value="{{ next }}">
    </form>

    <div class="img-preview--container">
        <img class="img-preview" src="" alt="">
    </div>
<script src="{% static 'js/tweet.js' %}"></script>

{% endblock %}



